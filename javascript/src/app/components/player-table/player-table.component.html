<div>
  <table *ngIf="players != undefined" id="player-table">
    <tr>
      <!-- <th></th>
      <th></th>
      <th></th> -->
      <th *ngFor="let col of playerCols">
        {{ col }}
      </th>
    </tr>

    <tr *ngFor="let player of players; let index = index;" class="active-table-row" id="player-row-{{player.id}}"
      (mouseenter)="onPass(player)" (click)="onRowClick(player)">


      <!-- <td>
        <button [style.height.px]="20" id="add" (click)="onBtnClick(player, 'ticker-add')">
          +
        </button>
      </td> -->
      <!-- <td>
        <button [style.height.px]="20" id="remove" (click)="onBtnClick(player, 'ticker-remove')">
          -
        </button>
      </td> -->
      <!-- <td class="shortest-col" id="player-col-class-{{player.id}}" (change)="onPresetChange(player, $event)">
        <input value="{{player.playerClass}}">
      </td> -->

      <td class="player-selected-long-col" id="player-col-instrument-{{player.id}}">
        <app-instrument-selector (instrumentSelectEvent)="onInstrumentSelected($event, player)"
          [instruments]="instruments" [player]="player"></app-instrument-selector>
      </td>
      <!-- <td class="shortest-col" id="player-col-instrument-id-{{player.id}}">
        {{ player.instrument.channel }}
      </td> -->
      <td class="shortest-col" id="player-col-preset-{{player.id}}" (change)="onPresetChange(player, $event)">
        <input type="number" min="0" step="1" value="{{ player.preset }}">
      </td>
      <td class="shortest-col" (change)="onNoteChange(player, $event)">
        <input type="number" min="1" max="127" step="1" value="{{ player.note }}">
      </td>
      <td>
        <button ngClass="{{getMuteButtonClass(player)}}" [style.height.px]="20" id="mute" (click)="onBtnClick(player, 'ticker-mute')">
          M
        </button>
        <!-- <button *ngIf="player.muted" [style.height.px]="20" id="mute" (click)="onBtnClick(player, 'ticker-mute')">
          U
        </button> -->
      </td>
      <td>
        <button [style.height.px]="20" id="audition" (click)="onBtnClick(player, 'ticker-audition')">
          <!--          <mat-icon>mute</mat-icon>-->
          P
        </button>
      </td>
      <td class="shortest-col" (change)="onBeatFractionChange(player, $event)">
        <input type="number" min="1" max="{{ player.subDivisions }}" step="1" value="{{ player.beatFraction }}">
      </td>
      <td class="shortest-col" (change)="onSubsChange(player, $event)">
        <input type="number" min="1" max="16" step="1" value="{{ player.subDivisions }}">
      </td>
      <td class="shortest-col" (change)="onSkipsChange(player, $event)">
        <input type="number" min="1" max="100" step="1" value="{{ player.skips }}">
      </td>
      <td class="shortest-col" (change)="onSwingChange(player, $event)">
        <input type="number" min="0" max="100" step="1" value="{{ player.swing }}">
      </td>
      <td class="shortest-col" (change)="onProbabilityChange(player, $event)">
        <input type="number" min="0" max="100" step="1" value="{{ player.probability }}">
      </td>
      <td class="shortest-col" (change)="onRandomDegreeChange(player, $event)">
        <input type="number" min="0" max="100" step="1" value="{{ player.randomDegree }}">
      </td>
      <td class="shortest-col" (change)="onLevelChange(player, $event)">
        <input type="number" min="1" max="127" step="1" value="{{ player.level }}">
      </td>
      <td class="shortest-col" (change)="onMinVelocityChange(player, $event)">
        <input type="number" min="1" max="127" step="1" value="{{ player.minVelocity }}">
      </td>
      <td class="shortest-col" (change)="onMaxVelocityChange(player, $event)">
        <input type="number" min="1" max="127" step="1" value="{{ player.maxVelocity }}">
      </td>
      <td class="shortest-col" (change)="onRatchetCountChange(player, $event)">
        <input type="number" min="0" max="127" step="1" value="{{ player.ratchetCount }}">
      </td>
      <td class="shortest-col" (change)="onRatchetIntervalChange(player, $event)">
        <input type="number" min="1" max="16" step="1" value="{{ player.ratchetInterval }}">
      </td>
      <td class="shortest-col" (change)="onFadeInChange(player, $event)">
        <input type="number" min="0" max="127" step="1" value="{{ player.fadeIn }}">
      </td>
      <td class="shortest-col" (change)="onFadeOutChange(player, $event)">
        <input type="number" min="1" max="16" step="1" value="{{ player.fadeOut }}">
      </td>
    </tr>
    <tr *ngIf="players == undefined || players.length == 0">
      <td class="shortest-col"></td>
      <td class="shortest-col"></td>
      <td class="shortest-col"></td>
      <td class="shortest-col"></td>
      <td class="shortest-col"></td>
      <td class="shortest-col"></td>
      <td class="shortest-col"></td>
      <td class="shortest-col"></td>
      <td class="shortest-col"></td>
      <td class="shortest-col"></td>
      <td class="shortest-col"></td>


    </tr>
  </table>
</div>

<!--    <ng-container-->
<!--      [matColumnDef]="col"-->
<!--      *ngFor="let col of playerCols">-->

<!--      <td mat-cell *matCellDef="let element ">-->
<!--        <input-->
<!--          matInput-->
<!--          placeholder="col"-->
<!--          [value]="element[col]"-->
<!--          [(ngModel)]="element[col]"-->
<!--        />-->
<!--    </ng-container>-->

<!--    <tr mat-header-row *matHeaderRowDef="playerCols"></tr>-->
<!--    <tr mat-row *matRowDef="let row; columns: playerCols"></tr>-->

<!--  <table mat-table [dataSource]="players">-->
<!--    <ng-container-->
<!--      [matColumnDef]="col"-->
<!--      *ngFor="let col of playerCols">-->
<!--      <th mat-header-cell *matHeaderCellDef>-->
<!--        {{ col }}-->
<!--      </th>-->

<!--      <td mat-cell *matCellDef="let element ">-->
<!--        <input-->
<!--          matInput-->
<!--          placeholder="col"-->
<!--          [value]="element[col]"-->
<!--          [(ngModel)]="element[col]"-->
<!--        />-->
<!--    </ng-container>-->

<!--    <tr mat-header-row *matHeaderRowDef="playerCols"></tr>-->
<!--    <tr mat-row *matRowDef="let row; columns: playerCols"></tr>-->
<!--  </table>-->

<table>
  <tr *ngIf="player != undefined">
    <th>
      {{player.id}}
    </th>
    <th>
      {{player.instrumentId}}
    </th>
    <th>
      {{player.note}}
    </th>
    <th></th>
    <th></th>
    <th></th>
  </tr>
  <tr>
    <th *ngFor="let col of ruleCols">
      {{ col}}
    </th>
    <th></th>
    <th></th>
  </tr>

  <tr class="active-table-row" *ngFor="let rule of player?.rules;">
    <td class="player-short-col">{{rule.id}}</td>
    <td>
      <form>
        <select id="operatorSelect-{{rule.id}}" [value]="OPERATOR[rule.operatorId]"
                (change)="onOperatorChange(rule, $event)">
          <option *ngFor="let opt of OPERATOR" [value]="opt">{{opt}}</option>
        </select>
      </form>
    </td>
    <td>
      <form>
        <select id="comparisonSelect-{{rule.id}}" [value]="COMPARISON[rule.comparisonId]"
                (change)="onComparisonChange(rule, $event)">
          <option *ngFor="let opt of COMPARISON" [value]="opt">{{opt}}</option>
        </select>
      </form>
    </td>
    <td class="player-short-col">
      <input type="number" step=".25" value={{rule.value}} (change)="onValueChange(rule, $event)"
             minlength="4" maxlength="8" size="10">
    </td>
    <td>
      <button [style.height.px]="20" id="add" (click)="btnClicked(rule, 'add')">+</button>
    </td>
    <td>
      <button [style.height.px]="20" id="remove" (click)="btnClicked(rule, 'remove')">-</button>
    </td>
  </tr>
  <tr *ngIf="player == undefined || player.rules.length == 0">
    <td class="player-short-col">
    </td>
    <td class="player-short-col">
    </td>
    <td class="player-short-col">
    </td>
    <td class="player-short-col">
    </td>
    <button *ngIf="player != undefined" [style.height.px]="20" id="add2" (click)="initBtnClick()">+</button>
    <div *ngIf="player == undefined" [style.height.px]="20"></div>
    <td>
    </td>
    <td class="player-short-col">
    </td>
  </tr>
</table>
